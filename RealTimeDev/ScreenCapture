import numpy as np 
import cv2
from mss import mss
import time
import serial


bounding_box={'top':0, 'left':0,'width':1280,'height':1024}

sct=mss()

sct_img=sct.grab(bounding_box)
prev_img=np.array(sct_img)
prev_gray=cv2.cvtColor(prev_img,cv2.COLOR_BGR2GRAY)
prev_brightness=np.mean(prev_gray)
change_detected=False

while True:
    sct_img=sct.grab(bounding_box)
    t=time.localtime()
    current_time=time.strftime("%H:%M:%S",t)
    print(current_time)
    curr_img=np.array(sct_img)
    prev_gray=cv2.cvtColor(prev_img,cv2.COLOR_BGR2GRAY)
    curr_gray=cv2.cvtColor(curr_img,cv2.COLOR_BGR2GRAY)
    curr_brightness=np.mean(curr_gray)
    if curr_brightness>prev_brightness:
        change_detected=True
        
    prev_brightness=curr_brightness

